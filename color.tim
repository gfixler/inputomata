(defn cterm-rgb [r g b]
  "Pass rgb values, each in range 0-5, inclusive.
  Returns 8-bit cterm color value in range 16-231, inclusive."
  (let [[r g b] (map #(max 0 (min 5 %)) [r g b])]
    (max 16 (min 231 (+ 16 (* r 36) (* g 6) b)))))

(defn cterm-gray [v]
  "Pass gray value in range 0-24, inclusive.
  Returns cterm grayscale value in range 232-255, inclusive."
  (+ 232 (max 0 (min 23 v))))

(cterm-gray 21)
(cterm-rgb 5 5 5)

